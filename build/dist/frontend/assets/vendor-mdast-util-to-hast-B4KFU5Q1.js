import{s as v}from"./vendor-ungap--gfxRhYI.js";import{n as N}from"./vendor-micromark-util-sanitize-uri-B-zxHmez.js";import{p as B,a as L,b as A}from"./vendor-unist-util-position-60F3QETU.js";import{t as I}from"./vendor-trim-lines-D8znQY54.js";import{v as P}from"./vendor-unist-util-visit-DyPrGnGc.js";function S(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function O(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function R(t,e){const n=e.value?e.value+`
`:"",l={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(l.className=["language-"+r[0]]);let i={type:"element",tagName:"code",properties:l,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function U(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function F(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function T(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",l=String(e.identifier).toUpperCase(),r=N(l.toLowerCase()),i=t.footnoteOrder.indexOf(l);let o,p=t.footnoteCounts.get(l);p===void 0?(p=0,t.footnoteOrder.push(l),o=t.footnoteOrder.length):o=i+1,p+=1,t.footnoteCounts.set(l,p);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(p>1?"-"+p:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);const y={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,y),t.applyData(e,y)}function H(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function M(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function D(t,e){const n=e.referenceType;let l="]";if(n==="collapsed"?l+="[]":n==="full"&&(l+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+l}];const r=t.all(e),i=r[0];i&&i.type==="text"?i.value="["+i.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=l:r.push({type:"text",value:l}),r}function q(t,e){const n=String(e.identifier).toUpperCase(),l=t.definitionById.get(n);if(!l)return D(t,e);const r={src:N(l.url||""),alt:e.alt};l.title!==null&&l.title!==void 0&&(r.title=l.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function j(t,e){const n={src:N(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const l={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,l),t.applyData(e,l)}function z(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const l={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,l),t.applyData(e,l)}function E(t,e){const n=String(e.identifier).toUpperCase(),l=t.definitionById.get(n);if(!l)return D(t,e);const r={href:N(l.url||"")};l.title!==null&&l.title!==void 0&&(r.title=l.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function V(t,e){const n={href:N(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const l={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function _(t,e,n){const l=t.all(e),r=n?$(n):C(e),i={},o=[];if(typeof e.checked=="boolean"){const a=l[0];let c;a&&a.type==="element"&&a.tagName==="p"?c=a:(c={type:"element",tagName:"p",properties:{},children:[]},l.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let p=-1;for(;++p<l.length;){const a=l[p];(r||p!==0||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`}),a.type==="element"&&a.tagName==="p"&&!r?o.push(...a.children):o.push(a)}const u=l[l.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const y={type:"element",tagName:"li",properties:i,children:o};return t.patch(e,y),t.applyData(e,y)}function $(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let l=-1;for(;!e&&++l<n.length;)e=C(n[l])}return e}function C(t){const e=t.spread;return e??t.children.length>1}function G(t,e){const n={},l=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<l.length;){const o=l[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(l,!0)};return t.patch(e,i),t.applyData(e,i)}function J(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function K(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Q(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function W(t,e){const n=t.all(e),l=n.shift(),r=[];if(l){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([l],!0)};t.patch(e.children[0],o),r.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},p=B(e.children[1]),u=L(e.children[e.children.length-1]);p&&u&&(o.position={start:p,end:u}),r.push(o)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,i),t.applyData(e,i)}function X(t,e,n){const l=n?n.children:void 0,i=(l?l.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,p=o?o.length:e.children.length;let u=-1;const y=[];for(;++u<p;){const c=e.children[u],h={},f=o?o[u]:void 0;f&&(h.align=f);let s={type:"element",tagName:i,properties:h,children:[]};c&&(s.children=t.all(c),t.patch(c,s),s=t.applyData(c,s)),y.push(s)}const a={type:"element",tagName:"tr",properties:{},children:t.wrap(y,!0)};return t.patch(e,a),t.applyData(e,a)}function Y(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Z(t,e){const n={type:"text",value:I(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ee(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const te={blockquote:S,break:O,code:R,delete:U,emphasis:F,footnoteReference:T,heading:H,html:M,imageReference:q,image:j,inlineCode:z,linkReference:E,link:V,listItem:_,list:G,paragraph:J,root:K,strong:Q,table:W,tableCell:Y,tableRow:X,text:Z,thematicBreak:ee,toml:b,yaml:b,definition:b,footnoteDefinition:b};function b(){}function ne(t,e){const n=[{type:"text",value:"â†©"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function le(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function re(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||ne,l=t.options.footnoteBackLabel||le,r=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},p=[];let u=-1;for(;++u<t.footnoteOrder.length;){const y=t.footnoteById.get(t.footnoteOrder[u]);if(!y)continue;const a=t.all(y),c=String(y.identifier).toUpperCase(),h=N(c.toLowerCase());let f=0;const s=[],d=t.footnoteCounts.get(c);for(;d!==void 0&&++f<=d;){s.length>0&&s.push({type:"text",value:" "});let m=typeof n=="string"?n:n(u,f);typeof m=="string"&&(m={type:"text",value:m}),s.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(u,f),className:["data-footnote-backref"]},children:Array.isArray(m)?m:[m]})}const g=a[a.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const m=g.children[g.children.length-1];m&&m.type==="text"?m.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...s)}else a.push(...s);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(a,!0)};t.patch(y,x),p.push(x)}if(p.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...v(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(p,!0)},{type:"text",value:`
`}]}}const w={}.hasOwnProperty,ie={};function ae(t,e){const n=e||ie,l=new Map,r=new Map,i=new Map,o={...te,...n.handlers},p={all:y,applyData:pe,definitionById:l,footnoteById:r,footnoteCounts:i,footnoteOrder:[],handlers:o,one:u,options:n,patch:oe,wrap:se};return P(t,function(a){if(a.type==="definition"||a.type==="footnoteDefinition"){const c=a.type==="definition"?l:r,h=String(a.identifier).toUpperCase();c.has(h)||c.set(h,a)}}),p;function u(a,c){const h=a.type,f=p.handlers[h];if(w.call(p.handlers,h)&&f)return f(p,a,c);if(p.options.passThrough&&p.options.passThrough.includes(h)){if("children"in a){const{children:d,...g}=a,x=v(g);return x.children=p.all(a),x}return v(a)}return(p.options.unknownHandler||ce)(p,a,c)}function y(a){const c=[];if("children"in a){const h=a.children;let f=-1;for(;++f<h.length;){const s=p.one(h[f],a);if(s){if(f&&h[f-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=k(s.value)),!Array.isArray(s)&&s.type==="element")){const d=s.children[0];d&&d.type==="text"&&(d.value=k(d.value))}Array.isArray(s)?c.push(...s):c.push(s)}}}return c}}function oe(t,e){t.position&&(e.position=A(t))}function pe(t,e){let n=e;if(t&&t.data){const l=t.data.hName,r=t.data.hChildren,i=t.data.hProperties;if(typeof l=="string")if(n.type==="element")n.tagName=l;else{const o="children"in n?n.children:[n];n={type:"element",tagName:l,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,v(i)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function ce(t,e){const n=e.data||{},l="value"in e&&!(w.call(n,"hProperties")||w.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function se(t,e){const n=[];let l=-1;for(e&&n.push({type:"text",value:`
`});++l<t.length;)l&&n.push({type:"text",value:`
`}),n.push(t[l]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function k(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function ge(t,e){const n=ae(t,e),l=n.one(t,void 0),r=re(n),i=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return r&&i.children.push({type:"text",value:`
`},r),i}export{ge as t};
